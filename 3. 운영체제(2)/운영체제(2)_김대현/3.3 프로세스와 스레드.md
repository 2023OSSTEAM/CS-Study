
### 3.3.1 프로세스와 컴파일 과정

### 3.3.2 프로세스의 상태

![](attachments/Pasted%20image%2020230224000610.png)

- fork
- exec

앞 부분은

https://github.com/Metacognition-Polymath/operating-system-concepts/tree/main/03_%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4/Dk

참고


---

### 3.3.6 스레드와 멀티스레딩

코드, 데이터, 힙은 스레드끼리 서로 공유. 그 외 영역은 각각 생성된다.

#### 멀티스레딩

멀티스레딩을 통해 서로 자원을 공유하기 때문에 효율성이 높다.

![](attachments/Pasted%20image%2020230224001217.png)
### 3.3.7 공유 자원과 임계 영역

#### 공유 자원 (shared resource)

공유 자원: 시스템 안에서 각 프로세스, 스레드가 함께 접근할 수 있는 모니터, 프린터, 메모리, 파일, 데이터 드으이 자원이나 변수 등을 의미합니다.

이 공유 자원을 두 개 이상의 프로세스가 동시에 읽거나 쓰는 상황을 경쟁 상태라고 합니다. 

![](attachments/Pasted%20image%2020230224005331.png)


#### 임계 영역

임계 영역(critical section)은 둘 이상의 프로세스, 스레드가 공유 자원에 접근할 때 순서 등의 이유로 결과가 달라지는 코드 영역을 말합니다.

뮤텍스, 세마포어, 모니터 등의 해결책이 있습니다.

이는

- 상호 배제: 한 프로세스가 임계 영역에 들어갔을 때 다른 프로세스는 들어갈 수 없다.
- 한정 대기: 특정 프로세스가 영원히 임계 영역에 들어가지 못하면 안된다.
- 융통성: 한 프로세스가 다른 프로세스의 일을 방해해서는 안된다.

의 조건을 만족합니다.

##### 뮤텍스

lock을 통해 잠금 설정하고 사용한 후에는 unlock을 통해 잠금 해제하는 객체입니다.

##### 세마포어

semaphore

일반화된 뮤텍스입니다. 간단한 정수 값과 두 가지 함수 wait 및 signal로 공유 자원에 대한 접근을 처리합니다.

wait()은 자신의 차례를 기다립니다.
signal은 다음 프로세스로 순서를 넘겨줍니다.

###### 바이너리 세마포어

0과 1의 두 가지 값만 가질 수 있는 세마포어.
뮤텍스와 햇갈릴 수 있으나, 뮤텍스는 잠금 메커니즘이고, 세마포어는 신호 메커니즘입니다.

###### 카운팅 세마포어

여러 값을 가질 수 있으며, 여러 자원에 대한 접근을 제어합니다. 

##### 모니터

둘 이상의 스레드나 프로세스가 공유 자원에 안전하게 접근할 수 있도록 공유 자원을 숨기고 해당 접근에 대해 인터페이스만 제공합니다. 

모니터큐를 통해 공유 자원에 대한 작업을 순차적으로 처리합니다.

![](attachments/Pasted%20image%2020230224010005.png)

### 교착 상태

deadlock

두 개 이상의 프로세스들이 서로가 가진 자원을 기다리며 중단된 상태


#### 해결책

1. 애초에 데드락이 발생하지 않도록 설계
2. 교착 상태 가능성이 없을때만 자원 할당, 은행원 알고리즘을 사용
3. 사이클을 찾고 하나씩 지우기
4. 그냥 시스템 종료




