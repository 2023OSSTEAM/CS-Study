
### 4.2.1 ERD의 중요성

### 4.2.2 예제로 배우는 ERD

### 4.2.3 정규화 과정

#### 정규형 원칙

https://rebro.kr/160

https://namu.wiki/w/SQL/%EC%A0%95%EA%B7%9C%ED%99%94#s-4.1

책보다 나무위키의 설명이 더 직관적이고, 장단이 잘 서술되어 있습니다.

### 제 1정규형

릴레이션의 모든 도메인이 더 이상 분해될 수 없는 원자 값(atomic value)만으로 구성되어야 합니다.

한 개의 기본키에 대해 두 개 이상의 값을 가지는 반복 집합이 있어서는 안 됩니다.

![](attachments/Pasted%20image%2020230303140028.png)

해야 하는 이유: 

![](attachments/Pasted%20image%2020230303140043.png)

---
#### 제 2정규형

릴레이션이 제1정규형이며 부분 함수의 종속성을 제거한 형태를 말합니다. 

기본키가 아닌 모든 속성이 기본키에 완전 함수 종속적인 것을 뜻합니다.

![](attachments/Pasted%20image%2020230303140124.png)


![](attachments/Pasted%20image%2020230303140239.png)

#### 함수적 종속

Functional Dependency

X의 값을 알면 Y의 값을 바로 식별할 수 있고, X의 값에 따라 Y의 값이 달라질 때
Y는 X에 **함수적 종속**이라고 합니다.

#### 완전 함수적 종속

Full Functional Dependency

종속자가 기본키에만 종속되며, 기본키가 여러 속성으로 구성되어 있을 경우 기본키를 구성하는 모든 속성이 포함된 기본키의 부분집합에 종속된 경우.

![](attachments/Pasted%20image%2020230303141546.png)

---

### 제3 정규형

제2 정규형에서 기본키가 아닌 모든 속성이 이행적 함수 종속을 만족하지 않는 상태를 뜻합니다. 

이행적 함수 종속이란, A->B, B->C가 존재하면 논리적으로 A->C인데, 이때 집합 C가 집합 A에 이행적으로 함수 종속이 되었다고 합니다. 

![](attachments/Pasted%20image%2020230303141659.png)

> 학번이 주어졌을 때 바로 학과를 알고 싶은 경우가 많다. 지도교수 테이블로 join을 해서 알아내야만 한다는 사실이 조금 비직관적이다. 이렇게까지 해야 하나 싶기도 하다.

![](attachments/Pasted%20image%2020230303141847.png)
여전히 이런 이상 현상들이 발생합니다.

---

#### 보이스 코드 정규형

BCNF

강한 제3 정규형

결정자가 후보키가 아닌 함수 종속 관계를 제거하여 릴레이션의 함수 종속 관계에서 모든 결정자가 후보키인 상태를 말합니다. 


![](attachments/Pasted%20image%2020230303142532.png)